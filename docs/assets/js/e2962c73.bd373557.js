"use strict";(self.webpackChunkqq_x=self.webpackChunkqq_x||[]).push([[488],{3956:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Disks-and-Resizing","title":"Disks, Shared Drives, ISO booting and Resizing","description":"How to easily manage Quickemu type qcow2 disks and disk partitions","source":"@site/docs/Disks-and-Resizing.md","sourceDirName":".","slug":"/Disks-and-Resizing","permalink":"/docs/Disks-and-Resizing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":50,"frontMatter":{"sidebar_position":50,"title":"Disks, Shared Drives, ISO booting and Resizing","description":"How to easily manage Quickemu type qcow2 disks and disk partitions"},"sidebar":"docsSidebar","previous":{"title":"Snapshots and Rollbacks","permalink":"/docs/Snapshots"},"next":{"title":"qqX updates","permalink":"/docs/Updates"}}');var a=s(4848),t=s(8453);const r={sidebar_position:50,title:"Disks, Shared Drives, ISO booting and Resizing",description:"How to easily manage Quickemu type qcow2 disks and disk partitions"},o=void 0,d={},l=[{value:"Everyday Tools",id:"everyday-tools",level:3},{value:"SHARED and SECOND DRIVES",id:"shared-and-second-drives",level:2},{value:"Partioning and formatting",id:"partioning-and-formatting",level:3},{value:"RESIZING",id:"resizing",level:2},{value:"BOOTING from ISO&#39;s",id:"booting-from-isos",level:2},{value:"ACCESS",id:"access",level:2},{value:"Transferring virtual machines",id:"transferring-virtual-machines",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h3,{id:"everyday-tools",children:"Everyday Tools"}),"\n",(0,a.jsx)(n.p,{children:"qqX will automatically run disk health checks in the background and alert you if there are problems."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://github.com/qqxproject/qqX/assets/3956806/7edf972c-3c18-4f33-8096-2c1cbc5ba4f5",alt:"disk error alert crop"})}),"\n",(0,a.jsx)(n.p,{children:"You are also able to mount and view qcow2 virtual machine drives using the host's file manager"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://github.com/user-attachments/assets/91cc82cd-1d89-4824-a7be-b9466bef7a81",alt:"qqX-qcow2-mount-in-filemanager"})}),"\n",(0,a.jsx)(n.h2,{id:"shared-and-second-drives",children:"SHARED and SECOND DRIVES"}),"\n",(0,a.jsx)(n.p,{children:"qqX allows you to create an additional Shared Drive that may be used by all the VM's and may be accessed by the host."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Stage by stage help is given on screen as you proceed."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["See this ",(0,a.jsx)(n.a,{href:"Translation/Disk-Management-menus#creating-a-shared-or-extra-drive",children:"link to the shared drive"})," translation help screens, and others."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["The whole disk-menus page ",(0,a.jsx)(n.a,{href:"https://qqxproject-org.translate.goog/docs/Translation/Disk-Management-menus?_x_tr_sl=auto&_x_tr_tl=it&_x_tr_hl=en&_x_tr_pto=wapp",children:"will parallel translate with this link."})]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Unlike the standard Quickemu/Spicy which is only available in Spice display mode, the qqX Shared drive may also be used in the sharper and more responsive SDL mode."}),"\n",(0,a.jsxs)(n.p,{children:["When the new ",(0,a.jsx)(n.a,{href:"FAQs-and-Help#sdl-vs-spicy",children:"SDL 3"})," works its way through into the available display systems, drag and drop should also become supported."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"qqX will normally auto-install the shared drive parameters for you, in the general settings file, and will enable auto-mount."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Second Drives will function and are installed in much the same way but are mounted in a one-off basis via the .conf file."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A Second drive is a quick way to expand an individual VM's storage."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"partioning-and-formatting",children:"Partioning and formatting"}),"\n",(0,a.jsx)(n.p,{children:"Just like any new hard drive or disk, and just like when a distro is installed, we need to initialize things."}),"\n",(0,a.jsxs)(n.p,{children:["This should be carried out INSIDE a virtual machine or from a ",(0,a.jsx)(n.a,{href:"Disks-and-Resizing#booting-from-isos",children:"boot ISO."})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Use Gparted, Gnome Disks, or similar. You will to install a file table and will need to create and format at least one partition."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"If you will be installing, of have installed WINDOWS, the drive should be set as GPT & formatted as NTFS."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set up NTFS drives using a Linux OS and gparted but optimize (defrag) the disk using Windows"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"See resize notes for mounting workarounds"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["MAC OS, older than and including 10.13 Mojave 2018 ",(0,a.jsx)(n.em,{children:"might"})," need a flag IN THE .CONF FILE to stop possible drive conflicts."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/MacOS_version_history",children:"https://en.wikipedia.org/wiki/MacOS_version_history"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:'Quickemu code has the following MacOs note: "VirtIO Block Media doesn\'t work in High Sierra (at all) or the Mojave (Recovery Image)"\nDevelopment tests with Mojave show both a Shared NTFS and a Second APFS to be working.'}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Thus, SET MacLegacyDrive as =\"true\" to load Second Drive (& not Shared) as 'ide-hd' instead of 'virtio-blk-pci'"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The Shared Drive will always load as 'virtio-blk-pci'"}),"\n",(0,a.jsx)(n.h2,{id:"resizing",children:"RESIZING"}),"\n",(0,a.jsx)(n.p,{children:"Ideally the Virtual Machine should have been allocated a generous size from the outset. But things aren't always that way ..."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"disk-size-analysis-and-snapshot-management",src:s(7547).A+"",width:"952",height:"848"})}),"\n",(0,a.jsx)(n.p,{children:"Select the VM in the normal way and open the Utils menu [u]"}),"\n",(0,a.jsx)(n.p,{children:"Use the [disk] option to resize. Stage by stage help will be given."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["See this ",(0,a.jsx)(n.a,{href:"Translation/Disk-Management-menus#disk-tidying-and-repair",children:"link to the disk resize"})," translation help screens, and others."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Second drives should be followed up by adjustments using Gparted from inside the Linux VM."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Gparted will auto-detect the change in envelope size and auto offer to 'fix' things.  KDE partition manager may not do this and will need the partition deleting in order to reach the new envelope size. This software is not always installed and may need to be added."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A workaround for KDE distros can be to copy the disks to a Gnome based distro VM folder, then mount them as Gnome second drives. Even a simple Live ISO is sufficient, as long as the .conf has the Drive added to it."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"This workaround should function with main drives too, including Windows."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Or not. Sometimes only Windows will fix NTFS, even if Gparted has already done the main lifting. Windows has 'Check and repair' plus 'Defrag' and Trim functions that can fix things sometimes where others can't."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://github.com/user-attachments/assets/4a338f4b-25d7-488e-9f69-10410012dcfb",alt:"shared-ntfs-checked-defragged-windows"})}),"\n",(0,a.jsx)(n.h2,{id:"booting-from-isos",children:"BOOTING from ISO's"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"An in-menu ISO boot is now possible from version 1.9.03"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"And a space saving shared Boot ISO option is now possible from 1.11.05 onwards"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"See the [iso] utility from the main menu."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["By pressing the 'esc' key during initial boot, you can access the Tiano boot manager and boot from any 'live boot' ISO, such as the one from ",(0,a.jsx)(n.a,{href:"https://gparted.org/download.php",children:"https://gparted.org/download.php"})]}),"\n",(0,a.jsx)(n.h2,{id:"access",children:"ACCESS"}),"\n",(0,a.jsxs)(n.p,{children:["If your drives only have ",(0,a.jsx)(n.code,{children:"root"})," access, the following commands can help give general user permissions:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'sudo chown $USER:$USER "mounted-drive-name"\n\nchmod 775 "mounted-drive-name"\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"Gnome Disks has a neat 'take ownership' option:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://github.com/user-attachments/assets/e81e6933-d5ff-48d4-9e1f-20f65407677e",alt:"second-disk-take-ownership-1280"})}),"\n",(0,a.jsx)(n.h3,{id:"transferring-virtual-machines",children:"Transferring virtual machines"}),"\n",(0,a.jsx)(n.p,{children:"A method of converting VMs from or to lib-virt based environments, such as Gnome Boxes or Virt-Manager, is still a work in progress which is hoped to be resolved."})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},7547:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/disk-size-analysis-and-snapshot-management-e633e1113daaab06454b0adb8cf118bb.jpg"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(6540);const a={},t=i.createContext(a);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);